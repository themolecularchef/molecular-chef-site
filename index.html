<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Lezzet YolculuÄŸu - Profesyonel yemek tarifleri, pÃ¼f noktalarÄ± ve Ã¶zel listeleriniz iÃ§in modern bir platform.">
    <title>Lezzet YolculuÄŸu | Profesyonel Yemek Tarifleri</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ³</text></svg>">

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDNH6hv0hbDYDcpQurTq0bDqtY87dhDzjo",
            authDomain: "membership-system-3efc1.firebaseapp.com",
            projectId: "membership-system-3efc1",
            storageBucket: "membership-system-3efc1.firebasestorage.app",
            messagingSenderId: "129656126432",
            appId: "1:129656126432:web:c4d5ad257f8eb96cd88985"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
    
    <style>
        /* Flash of Unauthenticated Content Ã¶nlemi */
        #navAuth, #navUser, #mobileAuth, #mobileUser {
            visibility: hidden;
        }
    </style>
</head>
<body>
    <nav class="nav" id="nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <span class="nav-logo-icon">ğŸ³</span>
                <span class="nav-logo-text">Lezzet YolculuÄŸu</span>
            </a>
            
            <div class="nav-links">
                <a href="index.html" class="nav-link active">Ana Sayfa</a>
                <a href="#recipes" class="nav-link">Tarifler</a>
                <a href="dashboard.html" class="nav-link nav-link-lists hidden" id="navLists">Listelerim</a>
            </div>
            
            <div class="nav-actions">
                <button class="theme-toggle" id="themeToggle" aria-label="Tema deÄŸiÅŸtir">
                    <span class="theme-toggle-light">â˜€ï¸</span>
                    <span class="theme-toggle-dark">ğŸŒ™</span>
                </button>
                <a href="auth.html" class="nav-auth" id="navAuth">GiriÅŸ</a>
                <div class="nav-user hidden" id="navUser">
                    <span class="nav-user-name" id="navUserName"></span>
                    <button class="nav-logout" id="navLogout" title="Ã‡Ä±kÄ±ÅŸ yap">â†’</button>
                </div>
            </div>
            
            <button class="nav-mobile-toggle" id="navMobileToggle" aria-label="MenÃ¼yÃ¼ aÃ§">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <div class="mobile-menu" id="mobileMenu">
        <a href="index.html" class="mobile-link active">Ana Sayfa</a>
        <a href="#recipes" class="mobile-link">Tarifler</a>
        <a href="dashboard.html" class="mobile-link mobile-link-lists hidden" id="mobileLists">Listelerim</a>
        <a href="auth.html" class="mobile-link" id="mobileAuth">GiriÅŸ</a>
        <div class="mobile-user hidden" id="mobileUser">
            <span class="mobile-user-name" id="mobileUserName"></span>
            <button class="mobile-logout" id="mobileLogout">Ã‡Ä±kÄ±ÅŸ Yap</button>
        </div>
    </div>

    <header class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Evde Profesyonel Lezzetler</h1>
            <p class="hero-subtitle">DetaylÄ± tarifler, pÃ¼f noktalarÄ± ve kendi listenizi oluÅŸturma imkanÄ±</p>
            <div class="hero-actions">
                <a href="#recipes" class="btn btn-primary btn-lg">Tariflere GÃ¶z At</a>
                <a href="auth.html" class="btn btn-ghost btn-lg" id="heroAuthBtn">GiriÅŸ Yap</a>
            </div>
        </div>
        <div class="hero-scroll">
            <span>AÅŸaÄŸÄ± kaydÄ±r</span>
            <span>â†“</span>
        </div>
    </header>

    <section class="section" id="recipes">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Tarifler</h2>
                <p class="section-subtitle">Profesyonel dokunuÅŸlarla hazÄ±rlanmÄ±ÅŸ Ã¶zel tarifler</p>
            </div>
            
            <div class="filters">
                <button class="filter-btn active" data-filter="all">TÃ¼mÃ¼</button>
                <button class="filter-btn" data-filter="Ana Yemek">Ana Yemek</button>
                <button class="filter-btn" data-filter="BaÅŸlangÄ±Ã§">BaÅŸlangÄ±Ã§</button>
                <button class="filter-btn" data-filter="TatlÄ±">TatlÄ±</button>
                <button class="filter-btn" data-filter="Ä°Ã§ecek">Ä°Ã§ecek</button>
            </div>
            
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" placeholder="Tarif ara...">
                <span class="search-icon">ğŸ”</span>
            </div>
            
            <div class="recipes-grid" id="recipesGrid">
                <!-- Tarifler buraya yÃ¼klenecek -->
            </div>
            
            <div class="empty-state hidden" id="emptyState">
                <span class="empty-state-icon">ğŸ”</span>
                <h3 class="empty-state-title">SonuÃ§ bulunamadÄ±</h3>
                <p class="empty-state-text">AramanÄ±za uygun tarif bulunamadÄ±.</p>
            </div>
        </div>
    </section>

    <div class="modal" id="quickViewModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content modal-lg">
            <button class="modal-close" aria-label="Kapat">Ã—</button>
            <div class="modal-body" id="quickViewBody">
                <!-- Ä°Ã§erik dinamik yÃ¼klenecek -->
            </div>
        </div>
    </div>

    <div class="toast" id="toast">
        <span class="toast-message" id="toastMessage"></span>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="footer-logo">ğŸ³ Lezzet YolculuÄŸu</span>
                    <p class="footer-tagline">Evde profesyonel lezzetler</p>
                </div>
                <div class="footer-links">
                    <a href="#recipes">Tarifler</a>
                    <a href="auth.html">GiriÅŸ</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Lezzet YolculuÄŸu. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/firebase-auth.js"></script>
    <script src="js/firebase-lists.js"></script>
    <script src="js/recipes.js"></script>

    <script>
        // Theme Manager
        const ThemeManager = {
            init() {
                const savedTheme = localStorage.getItem('theme');
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                
                if (savedTheme) {
                    document.documentElement.setAttribute('data-theme', savedTheme);
                } else if (prefersDark) {
                    document.documentElement.setAttribute('data-theme', 'dark');
                }
                
                const toggle = document.getElementById('themeToggle');
                if (toggle) {
                    toggle.addEventListener('click', () => this.toggle());
                }
            },
            
            toggle() {
                const current = document.documentElement.getAttribute('data-theme');
                const next = current === 'dark' ? 'light' : 'dark';
                document.documentElement.setAttribute('data-theme', next);
                localStorage.setItem('theme', next);
            }
        };
        
        ThemeManager.init();

        // Mobile Menu
        const mobileToggle = document.getElementById('navMobileToggle');
        const mobileMenu = document.getElementById('mobileMenu');
        
        if (mobileToggle && mobileMenu) {
            mobileToggle.addEventListener('click', () => {
                mobileMenu.classList.toggle('active');
                mobileToggle.classList.toggle('active');
            });
        }

        // Auth State - Flash Ã¶nlemi ile birlikte
        firebase.auth().onAuthStateChanged((user) => {
            const navAuth = document.getElementById('navAuth');
            const navUser = document.getElementById('navUser');
            const navUserName = document.getElementById('navUserName');
            const navLists = document.getElementById('navLists');
            const mobileAuth = document.getElementById('mobileAuth');
            const mobileUser = document.getElementById('mobileUser');
            const mobileUserName = document.getElementById('mobileUserName');
            const mobileLists = document.getElementById('mobileLists');
            const heroAuthBtn = document.getElementById('heroAuthBtn');

            // GÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼ aÃ§ (artÄ±k gizli deÄŸil, sadece hidden class'Ä± ile kontrol edilecek)
            if (navAuth) navAuth.style.visibility = 'visible';
            if (navUser) navUser.style.visibility = 'visible';
            if (mobileAuth) mobileAuth.style.visibility = 'visible';
            if (mobileUser) mobileUser.style.visibility = 'visible';

            if (user) {
                // GiriÅŸ yapÄ±lmÄ±ÅŸsa
                if (navAuth) navAuth.classList.add('hidden');
                if (navUser) {
                    navUser.classList.remove('hidden');
                    navUser.style.display = 'flex';
                }
                if (navUserName) navUserName.textContent = user.displayName || user.email;
                if (navLists) navLists.classList.remove('hidden');
                
                if (mobileAuth) mobileAuth.classList.add('hidden');
                if (mobileUser) mobileUser.classList.remove('hidden');
                if (mobileUserName) mobileUserName.textContent = user.displayName || user.email;
                if (mobileLists) mobileLists.classList.remove('hidden');
                
                if (heroAuthBtn) heroAuthBtn.style.display = 'none';
            } else {
                // GiriÅŸ yapÄ±lmamÄ±ÅŸsa
                if (navAuth) navAuth.classList.remove('hidden');
                if (navUser) navUser.classList.add('hidden');
                if (navLists) navLists.classList.add('hidden');
                
                if (mobileAuth) mobileAuth.classList.remove('hidden');
                if (mobileUser) mobileUser.classList.add('hidden');
                if (mobileLists) mobileLists.classList.add('hidden');
                
                if (heroAuthBtn) heroAuthBtn.style.display = 'inline-flex';
            }
        });

        // Ã‡Ä±kÄ±ÅŸ iÅŸlemleri
        document.getElementById('navLogout')?.addEventListener('click', async () => {
            await firebase.auth().signOut();
            localStorage.removeItem('skipAuth');
            window.location.href = 'index.html';
        });
        
        document.getElementById('mobileLogout')?.addEventListener('click', async () => {
            await firebase.auth().signOut();
            localStorage.removeItem('skipAuth');
            window.location.href = 'index.html';
        });
    </script>
</body>
</html>
